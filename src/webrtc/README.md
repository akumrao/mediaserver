To debug webrtc


chrome://webrtc-internals

firefox
about:webrtc
about:config

enable logging of webrtc

chrome --enablewebrtc log


To compile webrtc
Download and Install the Chromium depot tools.

https://webrtc.github.io/webrtc-org/native-code/development/prerequisite-sw/

*Linux (Ubuntu/Debian)*
A script is provided for Ubuntu, which is unfortunately only available after your first gclient sync:

./build/install-build-deps.sh


https://webrtc.github.io/webrtc-org/native-code/development/

- mkdir webrtc-checkout
- cd webrtc-checkout
- fetch --nohooks webrtc
- gclient sync



- $ cd src
- $ git checkout -b m84 refs/remotes/branch-heads/4147
- $ gclient sync
- In OSX 10.14.16 this works:
- $ gn gen out/m84 --args='is_debug=false is_component_build=false is_clang=true rtc_include_tests=false rtc_use_h264=true rtc_enable_protobuf=false use_rtti=true mac_deployment_target="10.11" use_custom_libcxx=false'
- In Linux Debian Stretch with GCC 6.3 this works:
- $ gn gen out/m84 --args='is_debug=false is_component_build=false is_clang=false rtc_include_tests=false rtc_use_h264=true rtc_enable_protobuf=false use_rtti=true use_custom_libcxx=false treat_warnings_as_errors=false use_ozone=true'


- Then build it:
- $ ninja -C out/m84


-Then build mediaserver/src/webrtc:



$ cmake . -Bbuild \
  -DLIBWEBRTC_INCLUDE_PATH:PATH=/home/foo/src/webrtc-checkout/src \
  -DLIBWEBRTC_BINARY_PATH:PATH=/home/foo/src/webrtc-checkout/src/out/m84/obj

$ make -C build/
**********************************************************************************************************************************************************
For windows
1. Install git:

if you haven’t installed a copy of git, open https://git-for-windows.github.io/, download and install, suggest to select “Use Git from Windows Command Prompt” during installation.

2. Fetch depot_tools:

follow http://dev.chromium.org/developers/how-tos/install-depot-tools, use 7z to extract to E:\webrtc\depot_tools

3. Run depot_tools:

http://www.chromium.org/developers/how-tos/build-instructions-windows

mkdir webrtc-checkout
cd webrtc-checkout
fetch --nohooks webrtc

do not forget to set for using visual studio for builing code
set DEPOT_TOOLS_WIN_TOOLCHAIN=0

cd src
git branch -r
git checkout branch-heads/m75

gn gen out/x64/Debug --args="is_debug=true use_rtti=true target_cpu=\"x64\""
ninja -C out/x64/Debug boringssl field_trial_default protobuf_full p2p

**********************************************************************************************************************************************************
For android

export PATH=/workspace/depot_tools:$PATH

mkdir webrtc_android/

cd webrtc_android

fetch --nohooks webrtc_android.
cd src git checkout branch-heads/m75
Then type gclient sync

git remote add arvind https://github.com/scopear/webrtc.git

git remote update

git checkout 

      1 * (HEAD detached at arvind/multiplex-video)
      
      2   master


cd src

 ./build/install-build-deps.sh
 
 ./build/install-build-deps-android.sh



/*Generate compilation script*/

src/

gn gen out/arm --args='target_os="android" target_cpu="arm"'

ninja -C out/arm/

cp  ./out/arm/clang_x64/protoc ./out

delete our rm -rf out/arm


open android studio

open project /workspace/android_arwebrtc/MixedRealityWebRTCUnityDemo

open terminal in android studio

./gradlew clean

./gradlew genWebrtcSrc

./gradlew build

replace binaries generated by unity 

run install app

give permission to camera and mic at android setttings

open debug configuration 

select dual mode debug

